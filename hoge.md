# UARTに文字を出す
[参考文献](http://atelier-orchard.blogspot.com/2013/02/arm-qemu.html)

エラーもなにもハンドリングしないやつはできた!  
あとはバッファがいっぱいになったときのエラーとかを受け取れるようにしたい  
MilvusVisor上でも動いた  
ただ、
```
mv bin/EFI/BOOT/BOOTAA64.EFI ~/MilvusVisor/src/bin/BOOT/EFI/APP.EFI
cd ~/MilvusVisor/src
```
をprint_uart内でやんないといけないことでつまずいたから注意

QEMUのVirtでは--nographicsオプションがあるときPL011でのUARTで標準出力とするらしい?  
あとPL011は出力バッファにデータを突っ込むだけで勝手に開始と終了とかをやってくれる いいね  
write_volatileオプションは、コンパイラの最適化を抑えるためのもの ないとforループで何度もメモリに書き込んでるのに、結局なにも使用してないとコンパイラが判断しちゃって最後の書き込み以外は全部消しちゃう

# デバイス操作とページングの関係について
デバイス操作とは対応するメモリを読み書きすること  

デバイスを操作する仕組みとしてメモリマップドIOとポートマップドIOが主にあり、今は仮想メモリが潤沢であることからポートマップドIOが多い?

ページングでIOに対応する部分をメモリ上になくすことで、ページフォルトを起こさせてそれによりハイパーバイザーに処理を移行させ、処理を行う。  
!を出力したときのみ操作を停止することはその特性上厳しいため、結局すべての入力をハイパーバイザーが処理して、!が出力されたときのみ動作を停止させたり、?に変えたりするようになっていると思う。